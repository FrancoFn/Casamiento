<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../style/productos.css" />
  <link rel="icon" href="../img/ALIANZAS.png" type="image/png">
  <title>Recuerdos</title>
</head>

<body>
  <!-- ======================== ENCABEZADO ======================== -->
  <header class="contenedorPrincipal">
    <div class="barraSuperior">
      <div class="logo-contenedor">
       <img src="../img/ALIANZAS.png" alt="Logo de EMC Estudio Jurídico" class="logo" />

        <div class="nombres-personas">
          <!-- <span>Dr. Lucrecia Escobio</span>
        <span>Dr. Antonela Marinelli Carr</span> -->
        </div>

        <div class="nombre-estudio">
          Lu & Fran  29-11-2025
        </div>
      </div>
    </div>

    <div class="menuconteiner">
      <div class="menu-hamburguesa" id="menu-toggle">
        <img src="./../img/menu.png" alt="Menú" />
      </div>

      <nav class="navbar" id="menu">
        <ul>
          <li><a href="./../index.html">Inicio</a></li>
          <li><a href="./nosotros.html">Nosotros</a></li>
          <li><a href="./novedades.html">The Wedding</a></li>
          <li><a href="./productos.html" class="activo">Recuerdos</a></li>
          <li><a href="./dedicatoria.html">Dedicatorias</a></li>
          <li><a href="./contacto.html">Mensajes</a></li>
        </ul>
      </nav>
    </div>
  </header>
  
  <!-- ======================== CONTENIDO PRINCIPAL ======================== -->
  <main class="contenidoPrincipal">
    <section class="productos">
      <h1>Nuestros Recuerdos</h1>
      <div class="galeriaProductos" id="galeriaProductos">
        <p>Cargando productos desde Google Drive...</p>
      </div>
    </section>
  </main>

   <!-- ======================== PIE DE PÁGINA ======================== -->
     <footer class="pieDePagina"></footer>

      <div class="derechosReservados">
        <p>&copy; 2025 Franco Scaramuzzino. Todos los derechos reservados.</p>
      </div>
    </footer>

  <!-- ======================== SCRIPTS ======================== -->
 <script>
  // Menú responsive
  const toggle = document.getElementById("menu-toggle");
  const menu = document.getElementById("menu");
  toggle.addEventListener("click", () => menu.classList.toggle("active"));

  // ================= CARGAR IMÁGENES DESDE GOOGLE DRIVE =================
  const carpetaId = "1StYb8DH4daw_qPQKL2Nk43SrmvhueBPu"; // ID de carpeta raíz o "Casamiento" si lo cambiás
  const apiKey = "AIzaSyCVb1QY1eeZrvWHOy7lbLJUTvpN0aiMlII";
  const galeria = document.getElementById("galeriaProductos");

  fetch(`https://www.googleapis.com/drive/v3/files?q='${carpetaId}'+in+parents+and+mimeType+contains+'image/'&fields=files(id,name,thumbnailLink)&key=${apiKey}`)
    .then(res => res.json())
    .then(data => {
      galeria.innerHTML = "";
      if (!data.files || data.files.length === 0) {
        galeria.innerHTML = "<p>No hay imágenes disponibles en la carpeta.</p>";
        return;
      }

//                     CON NOMBRE
//      data.files.forEach(file => {
//       const nombreLimpio = file.name.replace(/\.[^/.]+$/, "").replace(/[_-]/g, " ");
//        const nombreBonito = nombreLimpio.charAt(0).toUpperCase() + nombreLimpio.slice(1);
//        
       // Intentamos construir una URL más segura
//        const imgSrc = file.thumbnailLink
//          ? file.thumbnailLink.replace(/=s\d+/, "=s1000")
//          : `https://lh3.googleusercontent.com/d/${file.id}=w1000`;

//        const div = document.createElement("div");
//        div.classList.add("producto");
//        div.innerHTML = `
//          <img src="${imgSrc}" alt="${nombreBonito}">
//          <h3>${nombreBonito}</h3>
//        `;
//        galeria.appendChild(div);
//      });        

//                  SIN NOMBRE
data.files.forEach(file => {
  const imgSrc = file.thumbnailLink
    ? file.thumbnailLink.replace(/=s\d+/, "=s1000")
    : `https://lh3.googleusercontent.com/d/${file.id}=w1000`;

  const div = document.createElement("div");
  div.classList.add("producto");
  div.innerHTML = `
    <img src="${imgSrc}" alt="">
  `;
  galeria.appendChild(div);
});



    })
    .catch(err => {
      galeria.innerHTML = "<p>Error al cargar las imágenes.</p>";
      console.error(err);
    });
</script>
</body>
</html>


